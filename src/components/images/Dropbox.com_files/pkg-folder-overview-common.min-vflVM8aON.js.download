define("metaserver/static/js/clean/open_in_mobile_app",["require","exports","tslib","react","@dropbox/dig-components/typography","metaserver/static/js/clean/clipboard_v3","metaserver/static/js/core/i18n","metaserver/static/js/clean/analytics","metaserver/static/js/core/browser","metaserver/static/js/core/browser_detection","metaserver/static/js/core/assert","typescript/component_libraries/spectrum-sharing/src/utils/sharing_constants"],(function(e,t,r,i,n,s,a,o,c,u,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanup=t.open_android_intent=t.open_ios=t.open_on_click=t.registerLoggingHandlers=t.CopyUrlLabelText=void 0,i=r.__importDefault(i),o=r.__importStar(o),c=r.__importStar(c),u=r.__importStar(u);function m(){return u.iOS&&(window.location.pathname.startsWith("/s/")||window.location.pathname.startsWith("/sh/")||window.location.pathname.startsWith("/scl/"))}t.CopyUrlLabelText=e=>m()?i.default.createElement(n.Text,Object.assign({color:"faint",tagName:"div"},e),a.intl.formatMessage({id:"EvntjN",defaultMessage:"Tapping Get the app will copy a link and open the content in the app"})):null,t.CopyUrlLabelText.displayName="CopyUrlLabelText";let p=void 0;let _=!1;let v=()=>{},g=()=>{};t.registerLoggingHandlers=(e,t)=>{v=e,g=t};t.open_on_click=(e,r,i,n,s,a)=>{const o=i=>{i.preventDefault(),a?(0,t.open_android_intent)(a):(0,t.open_ios)(e,r,!1)};i&&i.addEventListener("click",o)};t.open_ios=(e,t,r)=>{return m()&&(0,s.copyToClipboard)(window.location.href),r?void(((null==(i=t)?void 0:i.startsWith("https://itunes.apple.com/"))||(null==i?void 0:i.startsWith("https://app.adjust.com/")))&&(g(),c.unsafeRedirect(i))):((e,t,r)=>{if(v(),_)return;let i=!1;p=()=>i=!0,document.addEventListener("visibilitychange",p);let n=!1;const s=()=>n=!0;window.addEventListener("pagehide",s),null!=r&&o.ShareTibEventLogger.log_unauth("CLICK_MOBILE_OPEN",d.SHARE_ACTION_ORIGIN_TYPE.WEB_MOBILE,{scl_url:r}),(function(){const t=document.createElement("iframe");t.src=e||"",t.style.display="none",document.body.append(t)})();const a=Date.now();setTimeout(()=>{_=!1,p&&document.removeEventListener("visibilitychange",p),window.removeEventListener("pagehide",s),!n&&!i&&Date.now()<a+4700&&(null!=r&&o.ShareTibEventLogger.log_unauth("CLICK_MOBILE_INSTALL",d.SHARE_ACTION_ORIGIN_TYPE.WEB_MOBILE,{scl_url:r}),t&&window.location.replace(t))},3200),_=!0})(e,t);var i};t.open_android_intent=e=>{(0,l.assert)(e.startsWith("intent://www.dropbox.com/sm/launch_intent_or_fallback_page"),"intentUrl must use intent:// protocol"),v&&v(),window.location.href=e};t.cleanup=()=>{if(p)return document.removeEventListener("visibilitychange",p)}})),define("metaserver/static/js/home/starred/conditional_interface",["require","exports","metaserver/static/js/starred/star","metaserver/static/js/home/recents/recent_activity_starred","metaserver/static/js/home/starred/starred_view","metaserver/static/js/starred/id_type_pair","metaserver/static/js/files_page/data/store","metaserver/static/js/files_page/data/action_creators","metaserver/static/js/starred/redux/store","metaserver/static/js/starred/redux/slice"],(function(e,t,r,i,n,s,a,o,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StarredActions=t.fetchMissingStarredStatuses=t.getStoreForStarred=t.filesPageAppInit=t.getStoreForFilesPage=t.idTypePairToString=t.StarredView=t.getIdTypePairFromRecentItem=t.Star=void 0,Object.defineProperty(t,"Star",{enumerable:!0,get:function(){return r.Star}}),Object.defineProperty(t,"getIdTypePairFromRecentItem",{enumerable:!0,get:function(){return i.getIdTypePairFromRecentItem}}),Object.defineProperty(t,"StarredView",{enumerable:!0,get:function(){return n.StarredView}}),Object.defineProperty(t,"idTypePairToString",{enumerable:!0,get:function(){return s.idTypePairToString}}),Object.defineProperty(t,"getStoreForFilesPage",{enumerable:!0,get:function(){return a.getStoreForFilesPage}}),Object.defineProperty(t,"filesPageAppInit",{enumerable:!0,get:function(){return o.appInit}}),Object.defineProperty(t,"getStoreForStarred",{enumerable:!0,get:function(){return c.getStoreForStarred}}),Object.defineProperty(t,"fetchMissingStarredStatuses",{enumerable:!0,get:function(){return u.fetchMissingStarredStatuses}}),Object.defineProperty(t,"StarredActions",{enumerable:!0,get:function(){return u.StarredActions}})})),define("js/pap-events/enums/shared_link_requested_access_level-utils",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSharedLinkRequestedAccessLevelFromString=void 0;const r=["max","editor","viewer"];t.getSharedLinkRequestedAccessLevelFromString=function(e){return r.find(t=>t===(null==e?void 0:e.toLowerCase()))}})),define("js/pap-events/navigation/select_create_menu",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PAP_Select_CreateMenu=void 0,t.PAP_Select_CreateMenu=function(e){return{class:"navigation",action:"select",object:"create_menu",properties:e}}})),define("js/pap-events/share/create_shared_link",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PAP_Create_SharedLink=void 0,t.PAP_Create_SharedLink=function(e){return{class:"share",action:"create",object:"shared_link",properties:e}}})),define("metaserver/static/js/logging/hive/schemas/udcl-measures_restricted",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UdclLoggingTableRow=void 0;t.UdclLoggingTableRow=class{constructor(e){this.category="udcl-measures_restricted",this.measure_id=e.id,this.name=e.name,this.platform="web",this.start_time_ms=e.start_time_ms,this.end_time_ms=e.start_time_ms+e.duration_ms,this.duration_ms=e.duration_ms,this.extra=e.extra,Object.seal(this)}}})),define("metaserver/static/js/udcl/exporters",["require","exports","tslib","metaserver/static/js/logging/hive/schemas/udcl-measures_restricted","metaserver/static/js/metrics/index","metaserver/static/js/udcl/logger","metaserver/static/js/udcl/util/namespace","metaserver/static/js/udcl/util/normalize_json","metaserver/static/js/udcl/util/type_guards","metaserver/static/js/udcl/util/localStorageBuffer","metaserver/static/js/udcl/util/api","metaserver/static/js/api_v2/noauth_client"],(function(e,t,r,i,n,s,a,o,c,u,l,d){"use strict";var m;Object.defineProperty(t,"__esModule",{value:!0}),t.exportEntry=t.vortexExporter=t.udclServiceExporter=t.hiveExporter=void 0,(function(e){e.TTS="tts"})(m||(m={}));const p="web",_="time_to_resolution",v=[h,j,y,function(e,t){const r="true"===window.sessionStorage.getItem("DBX_UDCL_DEV_TOOL_MODE_ACTIVE");if(!r)return void sessionStorage.removeItem("DBX_UDCL_LOG");let i;try{i=JSON.parse(window.sessionStorage.getItem("DBX_UDCL_LOG")||"[]")}catch(e){i=[]}i.push({startTime:t.startTime>6048e5?t.startTime:t.startTime+performance.timeOrigin,duration:t.duration,detail:t.detail,name:t.name}),window.sessionStorage.setItem("DBX_UDCL_LOG",JSON.stringify(i))}],g={[m.TTS]:"success"},f=new u.LocalStorageBuffer((function(e){return r.__awaiter(this,void 0,void 0,(function*(){try{yield(0,l.udclLogTiming)(S,e)}catch(t){f.push(...e)}}))})),S=new d.NoAuthApiV2Client;function h(e,t){if(!(0,c.isPerformanceMeasure)(t))return;const r=(0,a.unnamespaceMetric)(t.name,a.NS_MEASURE);s.udclMeasuresLogger.log(new i.UdclLoggingTableRow({id:e,name:r,start_time_ms:t.startTime,duration_ms:t.duration,extra:(0,o.normalizeJson)(t.detail)}))}function j(e,t){let r;const i={id:e,detail:JSON.stringify(t.detail)};r=t instanceof window.PerformanceMeasure?Object.assign(Object.assign({type:"measure",name:(0,a.unnamespaceMetric)(t.name,a.NS_MEASURE)},i),{start_time_ms:t.startTime,duration_ms:t.duration}):Object.assign(Object.assign({type:"event",name:(0,a.unnamespaceMetric)(t.name,a.NS_TRACK)},i),{measure_id:void 0,timestamp:t.startTime}),f.push(r)}function y(e,t){var r,i;if(!(0,c.isPerformanceMeasure)(t)||!(function(e){var t,r;const i=(0,a.unnamespaceMetric)(e.name,a.NS_MEASURE),n=null!==(r=null===(t=e.detail)||void 0===t?void 0:t.jtbd)&&void 0!==r?r:"";return Object.values(m).includes(i)&&(0,c.isNonEmptyString)(n)})(t))return;const s=(0,a.unnamespaceMetric)(t.name,a.NS_MEASURE),o=null!==(i=String(null===(r=t.detail)||void 0===r?void 0:r.jtbd))&&void 0!==i?i:"",u=t.duration,l=(function(e){var t;return null!==(t=g[e])&&void 0!==t?t:"unknown"})(s),d=o.replace(/[^-0-9a-zA-Z._]/g,"_"),v=[p,d,_].join("/");(0,n.getMetricsReporter)().createStats({ns:a.NS_UDCL,name:v},{resolution:l}).record(u)}t.hiveExporter=h,t.udclServiceExporter=j,t.vortexExporter=y,t.exportEntry=function(e,t){window.RUNNING_IN_REACTSERVER||v.forEach(r=>r(e,t))}})),define("metaserver/static/js/udcl/index",["require","exports","metaserver/static/js/core/exception","metaserver/static/js/udcl/exporters","metaserver/static/js/udcl/util/namespace","metaserver/static/js/uuid/uuid"],(function(e,t,r,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.measure=t.mark=t.track=void 0,t.track=function(e,{startTime:t=performance.now(),detail:a}={}){const o=s.UUID.v4(),c=(0,n.namespaceMetric)(e,n.NS_TRACK);try{const e=performance.mark(c,{startTime:t,detail:a});(0,i.exportEntry)(o,e)}catch(e){(0,r.reportException)({err:e,severity:r.SEVERITY.NONCRITICAL})}return o},t.mark=function(e,{startTime:t=performance.now()}={}){const r=(0,n.namespaceMetric)(e,n.NS_MARK);performance.mark(r,{startTime:t})},t.measure=function(e,{start:t,end:a,detail:o}){const c=s.UUID.v4(),u=(0,n.namespaceMetric)(e,n.NS_MEASURE),l=(0,n.namespaceEntryIfString)(t,n.NS_MARK),d=(0,n.namespaceEntryIfString)(a,n.NS_MARK);try{const e=performance.measure(u,{start:l,end:d,detail:o});(0,i.exportEntry)(c,e)}catch(e){(0,r.reportException)({err:e,severity:r.SEVERITY.NONCRITICAL})}return c}})),define("metaserver/static/js/udcl/logger",["require","exports","tslib","metaserver/static/js/logging/telemetry"],(function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.udclMeasuresLogger=void 0,i=r.__importStar(i),t.udclMeasuresLogger=new i.HiveLogger})),define("metaserver/static/js/udcl/util/api",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.udclLogTiming=void 0,t.udclLogTiming=function(e,t){const r=t.map(e=>Object.assign(Object.assign({},e),{tags:void 0})),i=r.filter(e=>"event"===e.type),n=r.filter(e=>"measure"===e.type);return e.ns("udcl").rpc("log_timing",{events:i,measures:n},{})}})),define("metaserver/static/js/udcl/util/localStorageBuffer",["require","exports","metaserver/static/js/core/persistence/storage"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageBuffer=void 0;t.LocalStorageBuffer=class{constructor(e,t=3e4){this.storage=r.LocalStorage,this.flush=()=>{var e;const t=null!==(e=this.storage.get("udcl"))&&void 0!==e?e:[];this.storage.delete("udcl"),t.length>0&&this.onFlush(t)},this.push=(...e)=>{var t;const r=null!==(t=this.storage.get("udcl"))&&void 0!==t?t:[];this.storage.set("udcl",r.concat(e))},this.cleanup=()=>{window.clearInterval(this.interval)},this.onFlush=e,this.interval=window.setInterval(this.flush,t)}}})),define("metaserver/static/js/udcl/util/namespace",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.namespaceEntryIfString=t.unnamespaceMetric=t.namespaceMetric=t.NS_MEASURE=t.NS_MARK=t.NS_TRACK=t.NS_UDCL=void 0,t.NS_UDCL="udcl",t.NS_TRACK="track",t.NS_MARK="mark",t.NS_MEASURE="measure";function r(e,...r){return[t.NS_UDCL,...r,e].join(":")}t.namespaceMetric=r,t.unnamespaceMetric=function(e,...t){const i=r("",...t);return 0===e.indexOf(i)?e.slice(i.length):e},t.namespaceEntryIfString=function(e,...t){return"string"==typeof e?r(e,...t):e}})),define("metaserver/static/js/udcl/util/normalize_json",["require","exports","metaserver/static/js/core/exception","lodash"],(function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeJson=void 0,t.normalizeJson=function(e){return(0,i.isPlainObject)(e)?(0,i.mapValues)(e,e=>{try{return"string"==typeof e?e:JSON.stringify(e)}catch(e){return(0,r.reportStack)("udcl.normalizeJson: value could not be serialized",{severity:r.SEVERITY.NONCRITICAL,exc_extra:{error:e.message}}),"[unserializable value]"}}):{}}})),define("metaserver/static/js/udcl/util/type_guards",["require","exports","metaserver/static/js/udcl/util/namespace"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPerformanceMeasure=t.isNonEmptyString=void 0,t.isNonEmptyString=function(e){return"string"==typeof e&&e.length>0},t.isPerformanceMeasure=function(e){return e.entryType===r.NS_MEASURE}})),define("metaserver/static/js/tracing/index",["require","exports","tslib","metaserver/static/js/core/exception"],(function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTracing=void 0;t.initTracing=function(){var t,n,s,a,o,c;return r.__awaiter(this,void 0,void 0,(function*(){try{const{getActiveUserId:i}=yield new Promise((t,r)=>{e(["metaserver/static/js/clean/active_user"],t,r)}).then(r.__importStar),{getVariantInfos:u,logExposure:l}=yield new Promise((t,r)=>{e(["metaserver/static/js/stormcrow/explicit_exposure_logging"],t,r)}).then(r.__importStar),d=yield u(["udcl_web_client_tracing"],i()),m=null==d?void 0:d[0],p="ON"===(null==m?void 0:m.variant),_=null!==(s=null===(n=null===(t=null==m?void 0:m.metadata)||void 0===t?void 0:t.metadata)||void 0===n?void 0:n.population_id)&&void 0!==s?s:"",v=null!==(c=null===(o=null===(a=null==m?void 0:m.metadata)||void 0===a?void 0:a.metadata)||void 0===o?void 0:o.identity_gid)&&void 0!==c?c:"",g={stormcrowVariantInfo:{feature:"udcl_web_client_tracing",variant:null==m?void 0:m.variant,metadata:{metadata:{population_id:_,identity_gid:v}}}};if(p){l(g.stormcrowVariantInfo);const{tracer:t}=yield new Promise((t,r)=>{e(["metaserver/static/js/tracing/tracer"],t,r)}).then(r.__importStar);return{default:t}}}catch(e){(0,i.reportException)({err:e,severity:i.SEVERITY.NONCRITICAL})}return{default:{}}}))}}));
//# sourceMappingURL=pkg-folder-overview-common.min.js-vflPu26SI.map