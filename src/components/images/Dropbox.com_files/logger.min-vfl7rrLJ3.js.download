define(["require","exports","tslib","metaserver/static/js/logging/telemetry","metaserver/static/js/logging/hive/schemas/web-orchestration_client_events","metaserver/static/js/core/exception"],(function(e,t,i,n,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrchestrationClientLogger=void 0,n=i.__importStar(n),s=i.__importStar(s);t.OrchestrationClientLogger=class{constructor(e){this.hiveLogger=e||new n.HiveLogger}queuedClientToString(e){return"string"!=typeof e?e[".tag"]:e}logSuccessEvent(e,t){const i={timestamp:Date.now(),is_success:!0,queued_client:this.queuedClientToString(e.queuedClient),queued_time:e.enqueueTime,started_time:e.executionStartTime,finish_time:e.finishTime,extras:{},orchestration_state:JSON.stringify(t)};e.action&&(i.action=e.action),e.actionValue&&(i.action_value=e.actionValue.toString()),this.hiveLogger.log(new r.WebOrchestrationClientEventsRow(i))}logErrorEvent(e,t,i){const n={};i&&(n.error_msg=i.message,s.reportException({err:i,tags:["enqueueFetch","campaigns","campaigns_orchestration"],severity:s.SEVERITY.NONCRITICAL,exc_extra:{queuedClient:this.queuedClientToString(e.queuedClient),enqueueTime:e.enqueueTime,startTime:e.executionStartTime,endTime:e.finishTime}}));const o={timestamp:Date.now(),is_success:!1,queued_client:this.queuedClientToString(e.queuedClient),queued_time:e.enqueueTime,started_time:e.executionStartTime,finish_time:e.finishTime,extras:n,orchestration_state:JSON.stringify(t)};e.action&&(o.action=e.action),e.actionValue&&(o.action_value=e.actionValue.toString()),this.hiveLogger.log(new r.WebOrchestrationClientEventsRow(o))}}}));
//# sourceMappingURL=logger.min.js-vflmA4LOr.map