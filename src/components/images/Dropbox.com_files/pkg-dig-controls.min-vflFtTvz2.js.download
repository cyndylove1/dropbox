define("metaserver/static/prod_assets_web_modules/@dropbox/dig-components/controls",["exports","../../common/index","react","focus-visible","../../common/index.esm7","../../common/_commonjsHelpers"],(function(e,t,n,o,s,a){"use strict";e.Checkbox=s.Checkbox,e.RadioButton=s.RadioButton,e.SegmentedControl=s.SegmentedControl,e.Toggle=s.Toggle})),define("metaserver/static/prod_assets_web_modules/common/index.esm7",["exports","./index","react","focus-visible"],(function(e,t,n,o){"use strict";var s=(function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)})(n),a=s.forwardRef(({checked:e,className:n,isIndeterminate:o=!1,inverse:a=!1,style:i={},...c},d)=>{const[u,m]=s.useState(!1),p=s.useRef(e);s.useEffect(()=>{u||e===p.current||m(!0)},[e,p,u]);const f=t.classNames114("dig-Checkbox-input",{"dig-Checkbox--inverse":a,"dig-Checkbox--initiallyChecked":!u&&e}),g=t.classNames114("dig-Checkbox",n),h=s.useRef(),v=((e,t)=>n=>{t.current=n,e&&("function"==typeof e?e(n):e.current=n)})(d,h);return s.useEffect(()=>{h.current&&(h.current.indeterminate=o)},[o,d]),s.createElement("span",{className:g,style:i},s.createElement("input",{checked:e,className:f,ref:v,type:"checkbox",...c}),s.createElement("span",{className:"dig-Checkbox-styles"}),s.createElement(l,null),s.createElement(r,null))});a.displayName="Checkbox";var r=()=>s.createElement("svg",{className:"dig-Checkbox-checked-icon","aria-hidden":"true",width:"20px",height:"20px",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:"false"},s.createElement("path",{d:"M1 4L4.5 7.5L11 1",stroke:"currentColor",strokeWidth:"2",transform:"translate(4, 6)"}));r.displayName="CheckedCheckboxIcon";var l=()=>s.createElement("svg",{"aria-hidden":"true",width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",className:"dig-Checkbox-indeterminate-icon",focusable:"false"},s.createElement("rect",{x:"5px",y:"9px",width:"10px",height:"2px"}));l.displayName="IndeterminateCheckboxIcon";var i=s.forwardRef(({className:e,children:n,inverse:o,...a},r)=>{const l=t.classNames114("dig-Radio",e,{"dig-Radio--inverse":o});return s.createElement("input",{type:"radio",className:l,ref:r,...a})});i.displayName="RadioButton";var c={options:new Map},d=(e,t)=>{let n;switch(t.type){case"UPDATE_OPTION":const o=new Map(e.options);o.set(t.payload.key,t.payload.value),n={options:o};break;case"REMOVE_OPTION":const s=new Map(e.options);s.delete(t.payload.key),n={options:s}}return{...e,...n}},u={setSelectedOption:()=>!1,optionItems:{items:new Map,updateOption:()=>!1,addOption:()=>!1,removeOption:()=>!1}},m=s.createContext(u),p=s.forwardRef(({children:e,disabled:n,variant:o="icon",value:a,role:r="tab",onClick:l,...i},c)=>{const{setSelectedOption:d,optionItems:u,selectedElement:p}=s.useContext(m),f=s.useRef(null);((e,t)=>{s.useEffect(()=>(t.addOption(e),()=>{t.removeOption(e.value)}),[]),s.useEffect(()=>{t.updateOption(e)},[e.value,e.element])})({value:a,element:f.current},u);const g=t.classNames114("dig-SegmentedControl-option",`dig-SegmentedControl-option--${o}`,{"dig-SegmentedControl-option--disabled":n});s.useImperativeHandle(c,()=>({offsetWidth:f.current?f.current.offsetWidth:0,offsetLeft:f.current?f.current.offsetLeft:0,getBoundingClientRect:()=>{if(f.current)return f.current.getBoundingClientRect()}}));const h=s.useMemo(()=>void 0===p?"false":p===f.current?"true":"false",[p,f]);return s.createElement("button",{role:r,className:g,disabled:n,ref:f,onClick:e=>{l&&l(e),d({value:a,element:f.current})},"aria-selected":h,...i},e)});p.displayName="Option";var f=({offsetWidth:e,offsetLeft:t})=>{const n=s.useRef(null);return s.useEffect(()=>{n.current.setAttribute("style",`width: ${e}px; \n       transform: translate(${t}px, 0);`)},[e,t]),s.createElement("span",{ref:n,className:"dig-SegmentedControl-selector"})},g=({className:e,children:n,selectedValue:o,onSelection:a,onValueChange:r,inverse:l=!1,...i})=>{const[u,p]=s.useState(!1),g=(()=>{const[e,t]=s.useReducer(d,c),n=({value:e,element:n})=>{e&&t({type:"UPDATE_OPTION",payload:{key:e,value:n}})},o=n;return{items:e.options,updateOption:n,addOption:o,removeOption:e=>{e&&t({type:"REMOVE_OPTION",payload:{key:e}})}}})(),[h,v]=s.useState(null),b=t.classNames114("dig-SegmentedControl",e,{"dig-SegmentedControl--inverse":l});s.useEffect(()=>{u||p(!0)},[]),s.useEffect(()=>{v(((e,t)=>{let n=null;return void 0!==t&&e.has(t)&&(n=e.get(t)),n})(g.items,o))},[g.items,o]),s.useEffect(()=>{u&&r&&r(o)},[o]);const x={setSelectedOption:e=>{v(e.element?e.element:null),r&&r(e.value),a&&a(e.value)},optionItems:g,selectedElement:h};return s.createElement(m.Provider,{value:x},s.createElement("div",{role:"tablist",className:b,...i},h&&s.createElement(f,{offsetWidth:h.offsetWidth,offsetLeft:h.offsetLeft}),n))};g.displayName="SegmentedControl",g.Option=p;var h=s.forwardRef(({isToggled:e,disabled:n,className:o,wrapperProps:a,inverse:r,...l},i)=>{const c=t.classNames114(o,"dig-Toggle",{"dig-Toggle--isToggled":e,"dig-Toggle--disabled":n,"dig-Toggle--inverse":r});return s.createElement("label",{className:c,...a},s.createElement("input",{role:"switch",type:"checkbox",className:"dig-Toggle-input",checked:e,disabled:n,ref:i,...l}),s.createElement("span",{className:"dig-Toggle-track"}))});h.displayName="Toggle";var v=Object.freeze({__proto__:null,Checkbox:a,RadioButton:i,SegmentedControl:g,Toggle:h});e.Checkbox=a,e.RadioButton=i,e.SegmentedControl=g,e.Toggle=h,e.index_esm=v}));
//# sourceMappingURL=pkg-dig-controls.min.js-vfltVAIZ3.map